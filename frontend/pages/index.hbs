<form id="getTimesForm" action="http://localhost:3456/api/time" method="GET" hidden></form>

<div class="row">
  <div class="col-12">
    <div id="message"></div>
  </div>
  <div class="col-12">
    <div class="card">
      <div class="card-header">
        <div class="d-flex flex-column flex-lg-row justify-content-between align-items-stretch align-items-lg-center">
          <h5 class="card-title mb-2 mb-lg-0">Partidas</h5>
          <div class="d-flex flex-column flex-lg-row justify-content-end align-items-stretch align-items-lg-center">
            <form id="formSearch" class="d-flex flex-column flex-lg-row align-items-stretch align-items-lg-center mb-0">
              <input type="text" name="time_search" class="form-control mb-2 mb-lg-0"
                placeholder="Digite o nome do time..." />
              <button type="button" class="btn btn-default text-white mb-2 mb-lg-0 ms-0 ms-lg-2">
                Buscar
              </button>
            </form>
            <a href="/" class="btn btn-default text-white mb-2 mb-lg-0 ms-0 ms-lg-2">
              Gerar Partidas
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-12 pt-2 overflow-auto">
    <table class="table table-bordered table-hover table-fixed mb-1">
      <thead>
        <tr>
          <th>Mandante</th>
          <th>Visitante</th>
          <th>Horário</th>
          <th>Estádio</th>
          <th width="10%">Ações</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
  </div>
</div>

{{#section "scripts"}}
<script>
  function fillTable(times) {
    console.log(times);
  }

  $(document).ready(function () {
    $("#getTimesForm").on('submit', function (event) {
      fetch("http://localhost:3456/api/time", {
        method: "GET",
        headers: {
          "Authorization": TokenManager.getToken(),
          "Content-Type": "application/json",
          "Accept": "application/json",
        },
      }).then(data => console.log(data))
        .catch(err => console.log(err));

      event.preventDefault();
    });

    $("#getTimesForm").submit();
  });
</script>
{{/section}}